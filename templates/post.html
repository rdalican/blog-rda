{% extends 'base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block extra_head %}
<style>
    .prose h2 {
        @apply text-3xl font-bold text-gray-900 mb-4 mt-8;
    }
    .prose h3 {
        @apply text-2xl font-bold text-gray-900 mb-3 mt-6;
    }
    .prose h4 {
        @apply text-xl font-bold text-gray-900 mb-2 mt-4;
    }
    .prose p {
        @apply text-gray-700 mb-4;
    }
    .prose ul {
        @apply list-disc list-inside mb-4 space-y-2;
    }
    .prose li {
        @apply text-gray-700;
    }
    .prose .bg-white {
        @apply rounded-lg shadow-md;
    }
    .chart-container canvas {
        @apply bg-white rounded-lg shadow-md p-4;
    }
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <article class="max-w-4xl mx-auto">
        <div class="prose prose-lg max-w-none">
            {{ post.content|safe }}
        </div>
    </article>

    <div class="max-w-4xl mx-auto mt-8">
        <a href="{{ url_for('blog') }}" class="inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
            Torna al Blog
        </a>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.addEventListener('DOMContentLoaded', () => {
    // Initialize charts if they exist
    if (document.getElementById('jobMarketChart')) {
        const jobMarketCtx = document.getElementById('jobMarketChart').getContext('2d');
        new Chart(jobMarketCtx, {
            type: 'bar',
            data: {
                labels: ['Posti Sostituiti', 'Posti Creati'],
                datasets: [{
                    label: 'Milioni di Posti di Lavoro (Stima WEF)',
                    data: [85, 97],
                    backgroundColor: [
                        'rgba(239, 68, 68, 0.6)',
                        'rgba(34, 197, 94, 0.6)'
                    ],
                    borderColor: [
                        'rgba(239, 68, 68, 1)',
                        'rgba(34, 197, 94, 1)'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.dataset.label}: ${context.parsed.y} milioni`;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Milioni di Posti'
                        }
                    }
                }
            }
        });
    }

    // Initialize skill cards if they exist
    const skillCards = document.querySelectorAll('.skill-card');
    const skillDescriptionContainer = document.getElementById('skill-description');

    if (skillCards.length > 0 && skillDescriptionContainer) {
        const skillDescriptions = {
            critico: {
                title: 'Pensiero Critico e Problem-Solving',
                text: "L'IA fornisce dati, ma il discernimento umano è insostituibile. Questa competenza ti permette di analizzare le informazioni generate dall'IA, identificare bias, porre domande più profonde e risolvere problemi complessi che non hanno una soluzione algoritmica. È l'abilità di dare un senso al rumore."
            },
            creativita: {
                title: 'Creatività e Innovazione',
                text: "Mentre l'IA può ottimizzare e replicare, la vera innovazione nasce dalla creatività umana. È la capacità di connettere idee apparentemente distanti, immaginare il 'what if' e creare qualcosa di genuinamente nuovo. L'IA diventa uno strumento per accelerare il processo creativo, non per sostituirlo."
            },
            agilita: {
                title: 'Agilità di Apprendimento (Learning Agility)',
                text: "In un mondo in costante evoluzione, la capacità di imparare, de-imparare e ri-imparare rapidamente è la competenza fondamentale. Significa essere aperti a nuove esperienze, cercare feedback e adattare il proprio comportamento e le proprie competenze in modo proattivo. Non si tratta di cosa sai, ma di quanto velocemente puoi imparare."
            },
            empatia: {
                title: 'Empatia e Intelligenza Emotiva',
                text: 'Paradossalmente, più la tecnologia avanza, più le abilità umane diventano preziose. L\'empatia permette di comprendere i bisogni dei clienti e dei colleghi, guidare team con umanità e costruire relazioni di fiducia. Sono le soft skills a rendere "dura" e sostenibile l'integrazione tecnologica.'
            },
            prompt: {
                title: 'Prompt Engineering',
                text: "Questa è la nuova frontiera della comunicazione uomo-macchina. È l'arte e la scienza di formulare le giuste domande e istruzioni per guidare i modelli di IA generativa. Padroneggiare questa abilità significa trasformare l'IA da uno strumento generico a un assistente specializzato e incredibilmente potente, capace di produrre esattamente i risultati desiderati."
            }
        };

        skillCards.forEach(card => {
            card.addEventListener('click', () => {
                const skillKey = card.dataset.skill;
                
                skillCards.forEach(c => c.classList.remove('active'));
                card.classList.add('active');

                const skillInfo = skillDescriptions[skillKey];
                skillDescriptionContainer.innerHTML = `
                    <h4 class="text-xl font-bold mb-2 text-blue-700">${skillInfo.title}</h4>
                    <p class="text-gray-700">${skillInfo.text}</p>
                `;
            });
        });
        
        skillCards[0].click();
    }

    // Initialize fade-in animations
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                entry.target.classList.add('visible');
            }
        });
    }, {
        threshold: 0.1
    });

    document.querySelectorAll('.fade-in').forEach(el => {
        observer.observe(el);
    });
});
</script>
{% endblock %}